DROP DATABASE IF EXISTS BrzaHrana;
CREATE DATABASE BrzaHrana;

USE BrzaHrana;

CREATE TABLE IF NOT EXISTS Mesto (
	IdMes	INTEGER PRIMARY KEY,
	Naziv	VARCHAR(50)
);

CREATE TABLE IF NOT EXISTS LokalBH  (
	IdLok	INTEGER PRIMARY KEY,
	Ocena   INTEGER,
	X	INTEGER,
	Y	INTEGER,
	IdMes	INTEGER,
    FOREIGN KEY (IdMes) REFERENCES Mesto (idMes)
);

CREATE TABLE IF NOT EXISTS Proizvod (
	IdPro	INTEGER PRIMARY KEY,
	Tip   	VARCHAR(500),
	Naziv	VARCHAR(500)
);


CREATE TABLE IF NOT EXISTS Cenovnik (
	IdCen		INTEGER PRIMARY KEY,
	DatumOd   	INTEGER,
	DatumDo   	INTEGER,
	IdLok		INTEGER,
	IdPro		INTEGER,
	Vrednost	REAL,
    FOREIGN KEY (IdLok) REFERENCES LokalBH (IdLok),
    FOREIGN KEY (IdPro) REFERENCES Proizvod (IDPro)
    
);


CREATE TABLE IF NOT EXISTS Prodaja (
	IdPro		INTEGER PRIMARY KEY,
	Kolicina   	INTEGER,
	Datum		INTEGER,
	IdCen		INTEGER,
    FOREIGN KEY (IdCen) REFERENCES Cenovnik (IdCen)
);


INSERT INTO Mesto VALUES (1, 'Beograd');
INSERT INTO Mesto VALUES (2, 'NOvi Sad');
INSERT INTO Mesto VALUES (3, 'Valjevo');
INSERT INTO Mesto VALUES (4, 'Cacak');
INSERT INTO Mesto VALUES (5, 'Raska');
INSERT INTO Mesto VALUES (6, 'Nis');

INSERT INTO LokalBH VALUES (1, NULL, 4, 10, 1);
INSERT INTO LokalBH VALUES (2, 4, 5, 22, 1);
INSERT INTO LokalBH VALUES (3, 5, 5, 1, 2);
INSERT INTO LokalBH VALUES (4, 5, -6, 18, 3);
INSERT INTO LokalBH VALUES (5, 3, 0, 0, 2);
INSERT INTO LokalBH VALUES (6, NULL, 11, -10, 5);
INSERT INTO LokalBH VALUES (7, 2, -4, -10, 6);
INSERT INTO LokalBH VALUES (8, 5, -65, 33, 6);
INSERT INTO LokalBH VALUES (9, 4, 34, 45, 6);

INSERT INTO Proizvod VALUES (1, 'Rostilj', 'Pljeskavica');
INSERT INTO Proizvod VALUES (2, 'Rostilj', 'Gurmanska pljeskavica');
INSERT INTO Proizvod VALUES (3, 'Rostilj', 'Rolovano belo meso');
INSERT INTO Proizvod VALUES (4, 'Pica', 'Capricciosa');
INSERT INTO Proizvod VALUES (5, 'Pica', 'Quattro formaggi');
INSERT INTO Proizvod VALUES (6, 'Wok', 'Bombay chicken');
INSERT INTO Proizvod VALUES (7, 'Wok', 'Beijing pork');
INSERT INTO Proizvod VALUES (8, 'Sushi', 'Lady Lee');
INSERT INTO Proizvod VALUES (9, 'Sushi', 'Sexy girl');
INSERT INTO Proizvod VALUES (10, 'Sushi', 'Fukomaki');

INSERT INTO Cenovnik VALUES (1, 20201201, NULL, 1,1, 50.5);
INSERT INTO Cenovnik VALUES (2, 20201201, NULL, 1,4, 123.5);
INSERT INTO Cenovnik VALUES (3, 20201202, NULL, 2,5, 283.4);
INSERT INTO Cenovnik VALUES (4, 20201202, 20201231, 1,6, 350.77);
INSERT INTO Cenovnik VALUES (5, 20201103, 20201202, 2,1, 50.22);
INSERT INTO Cenovnik VALUES (6, 20201203, NULL, 1,5, 270.3);
INSERT INTO Cenovnik VALUES (7, 20201203, NULL, 2,1, 44.554);
INSERT INTO Cenovnik VALUES (8, 20210102, NULL, 3,1, 42.3);
INSERT INTO Cenovnik VALUES (9, 20210102, 20210102, 3,2, 43.55);
INSERT INTO Cenovnik VALUES (10, 20210102, 20210102, 4,8, 250.5);
INSERT INTO Cenovnik VALUES (11, 20201003, 20210103, 4,8, 31.5);
INSERT INTO Cenovnik VALUES (12, 20210110, 20210103, 5,6, 31.5);
INSERT INTO Cenovnik VALUES (13, 20210111, NULL, 5,6, 50.5);
INSERT INTO Cenovnik VALUES (14, 20210111, NULL, 1,6, 21.5);
INSERT INTO Cenovnik VALUES (15, 20210111, NULL, 1,7, 543.5);
INSERT INTO Cenovnik VALUES (16, 20210111, NULL, 4,8, 45.5);
INSERT INTO Cenovnik VALUES (17, 20210111, NULL, 4,7, 110.86);
INSERT INTO Cenovnik VALUES (18, 20210101, NULL, 4,9, 34.76);
INSERT INTO Cenovnik VALUES (19, 20210101, NULL, 4,10, 120.6);
INSERT INTO Cenovnik VALUES (20, 20200101, 20210201, 8,6, 78.65);
INSERT INTO Cenovnik VALUES (21, 20210101, 20210201, 8,6, 25.65);
INSERT INTO Cenovnik VALUES (22, 20210101, NULL, 8,7, 38.34);
INSERT INTO Cenovnik VALUES (23, 20210101, NULL, 8,8, 123.54);
INSERT INTO Cenovnik VALUES (24, 20210101, NULL, 8,9, 126.00);
INSERT INTO Cenovnik VALUES (25, 20210101, 20210201, 9,6, 78.65);
INSERT INTO Cenovnik VALUES (26, 20210101, 20210201, 9,6, 25.65);
INSERT INTO Cenovnik VALUES (27, 20210101, NULL, 9,7, 38.34);
INSERT INTO Cenovnik VALUES (28, 20210101, NULL, 9,8, 123.54);
INSERT INTO Cenovnik VALUES (29, 20210101, NULL, 9,9, 126.00);
INSERT INTO Cenovnik VALUES (30, 20210101, NULL, 9,10, 76.00);

INSERT INTO Prodaja VALUES (1, 3, 20210102,1);
INSERT INTO Prodaja VALUES (2, 6, 20201215,2);
INSERT INTO Prodaja VALUES (3, 6, 20210105,1);
INSERT INTO Prodaja VALUES (4, 1, 20210111,1);
INSERT INTO Prodaja VALUES (5, 2, 20201203,3);
INSERT INTO Prodaja VALUES (6, 21, 20210111,13);
INSERT INTO Prodaja VALUES (7, 3, 20210103,11);
INSERT INTO Prodaja VALUES (8, 33, 20210110,12);
INSERT INTO Prodaja VALUES (9, 1, 20210111,12);
INSERT INTO Prodaja VALUES (10, 12, 20210111,13);
INSERT INTO Prodaja VALUES (11, 5, 20210111,13);
INSERT INTO Prodaja VALUES (12, 2, 20210111,13);
INSERT INTO Prodaja VALUES (13, 4, 20210110,10);
INSERT INTO Prodaja VALUES (14, 1, 20210111,12);
INSERT INTO Prodaja VALUES (15, 6, 20210111,13);
INSERT INTO Prodaja VALUES (16, 2, 20210111,14);
INSERT INTO Prodaja VALUES (17, 2, 20210111,13);
INSERT INTO Prodaja VALUES (18, 10, 20210111,15);
INSERT INTO Prodaja VALUES (19, 1, 20210111,14);
INSERT INTO Prodaja VALUES (20, 2, 20210111,15);
INSERT INTO Prodaja VALUES (21, 16, 20210111,15);
INSERT INTO Prodaja VALUES (22, 5, 20210111,13);
INSERT INTO Prodaja VALUES (23, 13, 20210111,14);
INSERT INTO Prodaja VALUES (24, 1, 20210111,29);
INSERT INTO Prodaja VALUES (25, 1, 20210111,30);